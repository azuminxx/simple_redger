<?xml version="1.0" encoding="UTF-8"?>
<svg width="1400" height="1000" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      .title { font-family: Arial, sans-serif; font-size: 18px; font-weight: bold; text-anchor: middle; fill: #333; }
      .subtitle { font-family: Arial, sans-serif; font-size: 14px; font-weight: bold; text-anchor: middle; fill: #555; }
      .text { font-family: Arial, sans-serif; font-size: 12px; text-anchor: middle; fill: #333; }
      .small-text { font-family: Arial, sans-serif; font-size: 10px; text-anchor: middle; fill: #666; }
      .feature-box { fill: #e3f2fd; stroke: #1976d2; stroke-width: 2; rx: 8; }
      .search-box { fill: #fff3e0; stroke: #f57c00; stroke-width: 2; rx: 8; }
      .table-box { fill: #e8f5e8; stroke: #388e3c; stroke-width: 2; rx: 8; }
      .edit-box { fill: #fce4ec; stroke: #c2185b; stroke-width: 2; rx: 8; }
      .export-box { fill: #f3e5f5; stroke: #7b1fa2; stroke-width: 2; rx: 8; }
      .arrow { stroke: #666; stroke-width: 2; marker-end: url(#arrowhead); }
      .dashed-arrow { stroke: #999; stroke-width: 2; stroke-dasharray: 5,5; marker-end: url(#arrowhead); }
    </style>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#666" />
    </marker>
  </defs>

  <!-- 背景 -->
  <rect width="1400" height="1000" fill="#ffffff"/>

  <!-- タイトル -->
  <text x="700" y="40" class="title">統合台帳検索システム - ユーザー機能概要</text>

  <!-- システム概要 -->
  <g transform="translate(50,80)">
    <text x="0" y="0" class="subtitle" fill="#1976d2">システム概要</text>
    <rect x="0" y="20" width="300" height="80" class="feature-box"/>
    <text x="150" y="45" class="text">PC台帳・内線台帳・座席台帳の</text>
    <text x="150" y="65" class="text">情報を統合して検索・表示</text>
    <text x="150" y="85" class="text">大量データでも高速表示</text>
    <text x="150" y="105" class="text">編集・更新機能付き</text>
  </g>

  <!-- 検索機能 -->
  <g transform="translate(400,80)">
    <text x="0" y="0" class="subtitle" fill="#f57c00">検索機能</text>
    
    <!-- 個別検索 -->
    <rect x="0" y="20" width="200" height="60" class="search-box"/>
    <text x="100" y="40" class="text">個別台帳検索</text>
    <text x="100" y="55" class="small-text">PC台帳・内線台帳・座席台帳</text>
    <text x="100" y="70" class="small-text">それぞれ個別に検索可能</text>
    
    <!-- 統合検索 -->
    <rect x="220" y="20" width="200" height="60" class="search-box"/>
    <text x="320" y="40" class="text">統合検索</text>
    <text x="320" y="55" class="small-text">3台帳の情報を統合表示</text>
    <text x="320" y="70" class="small-text">統合キーで関連データ表示</text>
    
    <!-- 追加検索 -->
    <rect x="440" y="20" width="200" height="60" class="search-box"/>
    <text x="540" y="40" class="text">追加検索</text>
    <text x="540" y="55" class="small-text">既存結果に追加検索</text>
    <text x="540" y="70" class="small-text">結果をマージ表示</text>
  </g>

  <!-- テーブル表示機能 -->
  <g transform="translate(50,200)">
    <text x="0" y="0" class="subtitle" fill="#388e3c">テーブル表示機能</text>
    
    <!-- 仮想スクロール -->
    <rect x="0" y="20" width="250" height="80" class="table-box"/>
    <text x="125" y="40" class="text">仮想スクロール</text>
    <text x="125" y="55" class="small-text">大量データでも高速表示</text>
    <text x="125" y="70" class="small-text">メモリ効率的な処理</text>
    <text x="125" y="85" class="small-text">スムーズなスクロール</text>
    <text x="125" y="100" class="small-text">変更フラグ表示</text>
    
    <!-- テーブル内検索 -->
    <rect x="270" y="20" width="250" height="80" class="table-box"/>
    <text x="395" y="40" class="text">テーブル内検索</text>
    <text x="395" y="55" class="small-text">表示中のデータを絞り込み</text>
    <text x="395" y="70" class="small-text">複数キーワード対応</text>
    <text x="395" y="85" class="small-text">フィールド指定検索</text>
    <text x="395" y="100" class="small-text">リアルタイム絞り込み</text>
    
    <!-- 詳細表示 -->
    <rect x="540" y="20" width="250" height="80" class="table-box"/>
    <text x="665" y="40" class="text">詳細表示</text>
    <text x="665" y="55" class="small-text">ボタンで詳細画面</text>
    <text x="665" y="70" class="small-text">各台帳の詳細情報</text>
    <text x="665" y="85" class="small-text">iframeで直接表示</text>
    <text x="665" y="100" class="small-text">編集・更新可能</text>
  </g>

  <!-- 編集機能 -->
  <g transform="translate(50,320)">
    <text x="0" y="0" class="subtitle" fill="#c2185b">編集機能</text>
    
    <!-- セル編集 -->
    <rect x="0" y="20" width="200" height="80" class="edit-box"/>
    <text x="100" y="40" class="text">セル編集</text>
    <text x="100" y="55" class="small-text">直接セルをクリック</text>
    <text x="100" y="70" class="small-text">値を直接編集</text>
    <text x="100" y="85" class="small-text">変更フラグ自動設定</text>
    <text x="100" y="100" class="small-text">保存前確認可能</text>
    
    <!-- セル交換 -->
    <rect x="220" y="20" width="200" height="80" class="edit-box"/>
    <text x="320" y="40" class="text">セル交換</text>
    <text x="320" y="55" class="small-text">ドラッグ&amp;ドロップ</text>
    <text x="320" y="70" class="small-text">主キー値の交換</text>
    <text x="320" y="85" class="small-text">関連データも連動</text>
    <text x="320" y="100" class="small-text">統合キー自動更新</text>
    
    <!-- 台帳分離 -->
    <rect x="440" y="20" width="200" height="80" class="edit-box"/>
    <text x="540" y="40" class="text">台帳分離</text>
    <text x="540" y="55" class="small-text">分離ボタンで実行</text>
    <text x="540" y="70" class="small-text">台帳データを分離</text>
    <text x="540" y="85" class="small-text">空行を自動生成</text>
    <text x="540" y="100" class="small-text">統合キー再生成</text>
    
    <!-- 一括保存 -->
    <rect x="660" y="20" width="200" height="80" class="edit-box"/>
    <text x="760" y="40" class="text">一括保存</text>
    <text x="760" y="55" class="small-text">変更をまとめて保存</text>
    <text x="760" y="70" class="small-text">複数台帳同時更新</text>
    <text x="760" y="85" class="small-text">更新履歴自動記録</text>
    <text x="760" y="100" class="small-text">エラー時ロールバック</text>
  </g>

  <!-- データ抽出機能 -->
  <g transform="translate(50,440)">
    <text x="0" y="0" class="subtitle" fill="#7b1fa2">データ抽出機能</text>
    
    <!-- 全データ抽出 -->
    <rect x="0" y="20" width="300" height="80" class="export-box"/>
    <text x="150" y="40" class="text">全データ抽出</text>
    <text x="150" y="55" class="small-text">全台帳のデータを一括取得</text>
    <text x="150" y="70" class="small-text">CSVファイル形式で出力</text>
    <text x="150" y="85" class="small-text">統合キーでマージ</text>
    <text x="150" y="100" class="small-text">ユーザー情報も含む</text>
    
    <!-- 更新履歴 -->
    <rect x="320" y="20" width="300" height="80" class="export-box"/>
    <text x="470" y="40" class="text">更新履歴</text>
    <text x="470" y="55" class="small-text">変更履歴を自動記録</text>
    <text x="470" y="70" class="small-text">バッチIDで管理</text>
    <text x="470" y="85" class="small-text">成功・失敗を記録</text>
    <text x="470" y="100" class="small-text">詳細ログ保存</text>
  </g>

  <!-- ユーザー操作フロー -->
  <g transform="translate(50,560)">
    <text x="0" y="0" class="subtitle" fill="#333">ユーザー操作フロー</text>
    
    <!-- ステップ1 -->
    <rect x="0" y="20" width="120" height="60" class="feature-box"/>
    <text x="60" y="35" class="text">1. 検索条件入力</text>
    <text x="60" y="50" class="small-text">台帳を選択</text>
    <text x="60" y="65" class="small-text">条件を入力</text>
    <text x="60" y="80" class="small-text">検索ボタンクリック</text>
    
    <!-- ステップ2 -->
    <rect x="140" y="20" width="120" height="60" class="table-box"/>
    <text x="200" y="35" class="text">2. 結果表示</text>
    <text x="200" y="50" class="small-text">統合テーブル表示</text>
    <text x="200" y="65" class="small-text">テーブル内検索</text>
    <text x="200" y="80" class="small-text">詳細確認</text>
    
    <!-- ステップ3 -->
    <rect x="280" y="20" width="120" height="60" class="edit-box"/>
    <text x="340" y="35" class="text">3. データ編集</text>
    <text x="340" y="50" class="small-text">セル直接編集</text>
    <text x="340" y="65" class="small-text">セル交換</text>
    <text x="340" y="80" class="small-text">台帳分離</text>
    
    <!-- ステップ4 -->
    <rect x="420" y="20" width="120" height="60" class="export-box"/>
    <text x="480" y="35" class="text">4. 保存・出力</text>
    <text x="480" y="50" class="small-text">変更を保存</text>
    <text x="480" y="65" class="small-text">データ抽出</text>
    <text x="480" y="80" class="small-text">履歴確認</text>
    
    <!-- 矢印 -->
    <line x1="120" y1="50" x2="140" y2="50" class="arrow"/>
    <line x1="260" y1="50" x2="280" y2="50" class="arrow"/>
    <line x1="400" y1="50" x2="420" y2="50" class="arrow"/>
  </g>

  <!-- 主要機能一覧 -->
  <g transform="translate(50,660)">
    <text x="0" y="0" class="subtitle" fill="#333">主要機能一覧</text>
    
    <!-- 検索・表示機能 -->
    <rect x="0" y="20" width="300" height="120" class="search-box"/>
    <text x="150" y="40" class="text">検索・表示機能</text>
    <text x="150" y="55" class="small-text">• 個別台帳検索</text>
    <text x="150" y="70" class="small-text">• 統合検索</text>
    <text x="150" y="85" class="small-text">• 追加検索</text>
    <text x="150" y="100" class="small-text">• テーブル内検索</text>
    <text x="150" y="115" class="small-text">• 仮想スクロール</text>
    <text x="150" y="130" class="small-text">• 詳細表示</text>
    
    <!-- 編集・更新機能 -->
    <rect x="320" y="20" width="300" height="120" class="edit-box"/>
    <text x="470" y="40" class="text">編集・更新機能</text>
    <text x="470" y="55" class="small-text">• セル直接編集</text>
    <text x="470" y="70" class="small-text">• ドラッグ&amp;ドロップ交換</text>
    <text x="470" y="85" class="small-text">• 台帳分離</text>
    <text x="470" y="100" class="small-text">• 一括保存</text>
    <text x="470" y="115" class="small-text">• 変更フラグ管理</text>
    <text x="470" y="130" class="small-text">• 統合キー自動更新</text>
    
    <!-- データ管理機能 -->
    <rect x="640" y="20" width="300" height="120" class="export-box"/>
    <text x="790" y="40" class="text">データ管理機能</text>
    <text x="790" y="55" class="small-text">• 全データ抽出</text>
    <text x="790" y="70" class="small-text">• CSV出力</text>
    <text x="790" y="85" class="small-text">• 更新履歴管理</text>
    <text x="790" y="100" class="small-text">• バッチ処理</text>
    <text x="790" y="115" class="small-text">• エラーハンドリング</text>
    <text x="790" y="130" class="small-text">• 権限チェック</text>
  </g>

  <!-- 利用可能な台帳 -->
  <g transform="translate(50,820)">
    <text x="0" y="0" class="subtitle" fill="#333">利用可能な台帳</text>
    
    <!-- PC台帳 -->
    <rect x="0" y="20" width="200" height="60" class="feature-box"/>
    <text x="100" y="35" class="text">PC台帳</text>
    <text x="100" y="50" class="small-text">PC番号・BSSID・氏名</text>
    <text x="100" y="65" class="small-text">PC用途・管理者</text>
    <text x="100" y="80" class="small-text">統合キー: PC-001_EXT-001_SEAT-001</text>
    
    <!-- 内線台帳 -->
    <rect x="220" y="20" width="200" height="60" class="feature-box"/>
    <text x="320" y="35" class="text">内線台帳</text>
    <text x="320" y="50" class="small-text">内線番号・電話機種別</text>
    <text x="320" y="65" class="small-text">設置場所・管理者</text>
    <text x="320" y="80" class="small-text">統合キー: PC-001_EXT-001_SEAT-001</text>
    
    <!-- 座席台帳 -->
    <rect x="440" y="20" width="200" height="60" class="feature-box"/>
    <text x="540" y="35" class="text">座席台帳</text>
    <text x="540" y="50" class="small-text">座席番号・座席拠点</text>
    <text x="540" y="65" class="small-text">部署・管理者</text>
    <text x="540" y="80" class="small-text">統合キー: PC-001_EXT-001_SEAT-001</text>
    
    <!-- ユーザー台帳 -->
    <rect x="660" y="20" width="200" height="60" class="feature-box"/>
    <text x="760" y="35" class="text">ユーザー台帳</text>
    <text x="760" y="50" class="small-text">BSSID・氏名漢字</text>
    <text x="760" y="65" class="small-text">ユーザー部署</text>
    <text x="760" y="80" class="small-text">BSSIDで関連付け</text>
  </g>

  <!-- 注意事項 -->
  <g transform="translate(50,920)">
    <text x="0" y="0" class="subtitle" fill="#d84315">注意事項</text>
    <rect x="0" y="20" width="1300" height="60" fill="#ffebee" stroke="#d84315" stroke-width="2" rx="8"/>
    <text x="650" y="40" class="text">• 編集権限（editApp）が必要です</text>
    <text x="650" y="55" class="text">• 大量データの場合は処理に時間がかかる場合があります</text>
    <text x="650" y="70" class="text">• 変更前のデータは必ず確認してから保存してください</text>
  </g>

</svg> 